# Continuous Integration: Bitbucket Pipeline + Version Incrementing + Docker image

There was a situation where I needed a customized solution to control the versioning of my Docker image. I found a base version.sh file, which I modified to suit my needs. I wrote a bitbucket-pipelines.yaml file that tests the builds when the develop branch has an incoming merge. I also added functionality to build the Docker image and push it to DockerHub when a merge to the main branch succeeds.

Note: This repository is only a set of starter files to provide you with the initial infrastructure.  Adjust these to your own needs. Make sure to adjust the Docker base image to something lighter to fit your needs.


# File Description

## bitbucket-pipelines.yaml

Contains the code that triggers Docker image builds. It includes code that tests your Docker builds (without pushing to DockerHub) when merging code into the develop branch. There is logic for building AND pushing your Docker image to DockerHub when merging code into the main branch. Read through the comments in this file for more clarification on what is happening.

## version.sh 

A generic code I found online as a base to modify the versioning scheme to my liking.

## version.txt

The file that contains the version number generated by the version.sh file.

## Dockerfile

The file containing instructions to build your Docker image.